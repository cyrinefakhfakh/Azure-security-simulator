{% extends "base2.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<body class="bg-gray-50 text-gray-900">
    <div class="container mx-auto px-4 py-8">
        <div class="bg-white shadow-xl rounded-lg overflow-hidden">
            <div class="p-6">
                <h1 class="text-2xl font-bold mb-6">File Encryption</h1>
                <p class="text-gray-600 mb-4">
                    Upload a file to encrypt it securely. After encryption, you can download the file and later decrypt it using the same key.
                </p>

                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="mb-4">
                        {% for category, message in messages %}
                        <div class="p-4 mb-2 text-white bg-{{ 'red' if category == 'error' else 'green' }}-500 rounded">
                            {{ message }}
                        </div>
                        {% endfor %}
                    </div>
                {% endif %}
                {% endwith %}

                <form method="post" enctype="multipart/form-data" class="space-y-4">
                    <div class="flex flex-col">
                        <label for="file" class="text-gray-700 font-semibold mb-2">Select File:</label>
                        <input 
                            type="file" 
                            name="file" 
                            id="file" 
                            class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500"
                        >
                    </div>
                    <div class="flex justify-center mt-6">
                        <button 
                            type="submit" 
                            class="bg-gray-800 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium shadow-md transition">
                            Encrypt File
                        </button>
                    </div>
                </form>
                {% if download_link %}
                <div class="mt-6">
                    <a 
                        href="{{ download_link }}" 
                        class="text-blue-600 hover:underline"
                        target="_blank">
                        Download Encrypted File
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html>
{% endblock %}
